import 'package:carros_app/domain/carro.dart';import 'package:carros_app/domain/services/carro_service.dart';import 'package:carros_app/pages/carro_page.dart';import 'package:carros_app/utils/navigation.dart';import 'package:flutter/material.dart';class CarrosListView extends StatefulWidget {  final String tipo;  const CarrosListView(this.tipo);  @override  _CarrosListViewState createState() => _CarrosListViewState();}class _CarrosListViewState extends State<CarrosListView>    with AutomaticKeepAliveClientMixin<CarrosListView> {  @override  bool get wantKeepAlive => true;  @override  Widget build(BuildContext context) {    return _body();  }  _body() {    Future futureCarros = CarroService.getCarros(widget.tipo);    return Container(      padding: EdgeInsets.all(16),      child: FutureBuilder<List<Carro>>(          future: futureCarros,          builder: (context, snapshot) {            if (snapshot.hasError) {              return Center(                child: Text(                  "Nenhum carro dispon√≠vel",                  style: TextStyle(color: Colors.grey, fontSize: 25),                ),              );            }            else if (!snapshot.hasData) {              return Center(                child: CircularProgressIndicator(),              );            }            else {              _listView(snapshot.data);            }            return _listView(snapshot.data);          }),    );  }  _listView(List<Carro> carros) {    return ListView.builder(        itemCount: carros.length,        itemBuilder: (context, index) {          final carro = carros[index];          return Container(            child: InkWell(                onTap: () {                  _onClickCarro(context, carro);                },                child: Card(                  child: Padding(                    padding: const EdgeInsets.only(left: 16),                    child: Column(                      crossAxisAlignment: CrossAxisAlignment.start,                      children: <Widget>[                        Center(child: Image.network(carro.urlFoto)),                        Text(                          carro.nome,                          maxLines: 1,                          overflow: TextOverflow.ellipsis,                          style: TextStyle(color: Colors.black, fontSize: 22),                        ),                        Text(                          carro.desc,                          style: TextStyle(color: Colors.grey, fontSize: 16),                        ),                        ButtonTheme.bar(                          // make buttons use the appropriate styles for cards                          child: ButtonBar(                            children: <Widget>[                              FlatButton(                                child: const Text('DETALHES'),                                onPressed: () {                                  _onClickCarro(context, carro);                                },                              ),                              FlatButton(                                child: const Text('SHARE'),                                onPressed: () {                                  /* ... */                                },                              ),                            ],                          ),                        ),                      ],                    ),                  ),                )),          );        });  }  void _onClickCarro(BuildContext context, Carro carro) {    navPush(context, CarroPage(carro));  }}